#Update Git to the Backports version for wheezy
#
#  Add the section below to /etc/apt/sources.list
----SNIP!---
# Backports!
deb http://ftp.us.debian.org/debian/ wheezy-backports main
----SNIP!---
# Run apt-get update

# Update git-all with backports version
sudo apt-get -t wheezy-backports install git-all

#Update Git to use Git stable for Ubuntu PPA
# http://stackoverflow.com/questions/19109542/installing-latest-version-of-git-in-ubuntu
# sudo add-apt-repository ppa:git-core/ppa
# sudo apt-get update
# sudo apt-get install git

#Hack on the subtree support missing in BOTH Wheeyz and Ubuntu PPA:
#git-subtree is already installed, but not enabled by default. You can do these commands to enable it.

sudo chmod +x /usr/share/doc/git/contrib/subtree/git-subtree.sh
sudo ln -s /usr/share/doc/git/contrib/subtree/git-subtree.sh /usr/lib/git-core/git-subtree

#Install the Heroku toolbelt (works fine for Wheezy or Ubuntu 12.04)

#Jenkins Deploy Job set-up
#1.) Create a job that just does the checkout
#2.) Go to the Jenkins workspace in the shell as the Jenkins user
#2.a.) Configure the heroku remote w/ correct repo name in .git/config:
[remote "heroku"]
        url = git@heroku.com:mighty-herokuinstance-1234.git
        fetch = +refs/heads/*:refs/remotes/heroku/*
#2.a.) run 'heroku login'     //Use your account username/password
#2.a.) run 'heroku keys:add'  //Upload Jenkins SSH keys for Heroku
#2.b.) run 'git subtree split --prefix=some/pathto/fix -b hdeploy'
#2.c.) run 'git push heroku hdeploy:master'
#2       NOTE* do this because you'll be prompted to accept connectint to the system *
#3.) Add the above two git commands as a shell execute to the Jenkins job


